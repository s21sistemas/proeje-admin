import{j as e,A as u,t as p}from"./index-CrpPZsvu.js";import{t as i,z as x,n as d}from"./useReportes-fRvlvEg1.js";import{A as b}from"./AlertaCard-CTxQbRQP.js";import{I as c}from"./InputField-CAlv3cmG.js";import"./circle-alert-DY7SbZfB.js";import"./eye-DTpaqRd9.js";const h=({data:a})=>e.jsxs("div",{className:"mb-7 p-4 border border-[#ddd] rounded-lg bg-[#f9f9f9]",children:[e.jsx("h2",{className:"text-3xl mb-4 text-center text-[#27548a] font-bold",children:"Resumen Financiero"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-[#0d7033] font-bold mb-2",children:["Ingresos: ",i(a.resumen.ingresos)," MXN."]}),e.jsxs("p",{className:"text-[#b61818] font-bold mb-6",children:["Egresos: ",i(a.resumen.egresos)," MXN."]}),e.jsxs("p",{className:"font-bold mb-3",children:["Balance final:"," ",e.jsxs("span",{className:"px-2.5 py-1.5 rounded-md bg-[#27548A] text-white",children:[i(a.resumen.balance)," MXN."]})]})]})]}),f=({formReport:a,handleInputChange:s,loadOptionsBancos:t,handleSubmit:o,estado:n})=>e.jsxs("form",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6 mt-3",onSubmit:o,children:[e.jsx(c,{label:"Selecciona el banco *",id:"banco_id",name:"banco_id",type:"async",required:!0,value:a.banco_id||"",onChange:s,loadOptions:t,classInput:"md:col-span-6"}),e.jsx(c,{label:"Fecha de inicio",id:"fecha_inicio",name:"fecha_inicio",type:"date",required:!0,value:a.fecha_inicio||"",onChange:s,classInput:"md:col-span-6"}),e.jsx(c,{label:"Fecha de fin",id:"fecha_fin",name:"fecha_fin",type:"date",required:!0,value:a.fecha_fin||"",onChange:s,classInput:"md:col-span-6"}),n&&e.jsx("div",{className:"sm:col-span-6 md:col-span-6",children:e.jsx(h,{data:n})}),e.jsxs("div",{className:"md:col-span-6 sm:col-span-6",children:[e.jsx("button",{type:"submit",className:"rounded-sm text-white font-medium py-2 px-3 bg-[#3674B5] hover:bg-[#486483] transition-all cursor-pointer",children:"Generar reporte"}),n&&e.jsx("a",{href:`${u}/api/pdf/estado-cuenta-bancos?banco_id=${a.banco_id.value}&fecha_inicio=${a.fecha_inicio}&fecha_fin=${a.fecha_fin}`,target:"_blank",className:"rounded-sm ml-3 text-white font-medium py-2 px-3 bg-red-600 hover:bg-red-800 transition-all cursor-pointer",children:"Exportar PDF"})]})]});function B(){const{formReport:a,estado:s,generateEstadoCuentaBanco:t,handleInputChange:o,loadOptionsBancosUnico:n}=x(),r=l=>{if(l.preventDefault(),d(a.fecha_inicio).isAfter(d(a.fecha_fin))){p.warning("La fecha de fin no puede ser antes que la fecha de inicio");return}const m={...a,banco_id:a.banco_id.value};t(m)};return e.jsxs("div",{className:"md:p-4 bg-gray-100",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4 sm:mb-0",children:"Estado de cuenta de los bancos"}),e.jsxs("div",{className:"mt-6 bg-white p-4 rounded-xl mx-auto",children:[e.jsx(b,{text:"Generador de estado de cuentas de los bancos"}),e.jsx(f,{estado:s,handleSubmit:r,handleInputChange:o,loadOptionsBancos:n,formReport:a})]})]})}export{B as default};
