import{j as e,A as m,t as p}from"./index-CrpPZsvu.js";import{t as a,z as h,n as d}from"./useReportes-fRvlvEg1.js";import{A as u}from"./AlertaCard-CTxQbRQP.js";import{I as c}from"./InputField-CAlv3cmG.js";import"./circle-alert-DY7SbZfB.js";import"./eye-DTpaqRd9.js";const f=({data:s})=>e.jsxs("div",{className:"mb-7 p-4 border border-[#ddd] rounded-lg bg-[#f9f9f9]",children:[e.jsx("h2",{className:"text-3xl mb-4 text-center text-[#27548a] font-bold",children:"Resumen General"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-[18px]",children:"Totales de cotizaciones:"}),e.jsxs("div",{className:"ml-5 mt-2",children:[e.jsxs("li",{className:"text-[14px] text-[#333]",children:["Aceptadas: ",s.resumen.cotizaciones.aceptadas]}),e.jsxs("li",{className:"text-[14px] text-[#333]",children:["No aceptadas: ",s.resumen.cotizaciones.no_aceptadas]}),e.jsxs("li",{className:"text-[14px] text-[#333]",children:["Pendientes: ",s.resumen.cotizaciones.pendientes]})]})]}),e.jsx("div",{className:"mt-5 p-2.5 border-t border-dashed border-[#ccc]"}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-[18px]",children:"Total ventas:"})," ",e.jsxs("span",{className:"px-2 py-1 rounded-lg text-[14px] bg-[#27548A] text-white",children:[a(s.resumen.ventas.total)," MXN."]})]}),e.jsxs("div",{className:"ml-5 mt-2",children:[e.jsxs("li",{className:"text-[#0d7033] font-bold text-[14px]",children:["Pagadas: ",a(s.resumen.ventas.pagadas)," MXN."]}),e.jsxs("li",{className:"text-[#b61818] font-bold text-[14px]",children:["Pendientes: ",a(s.resumen.ventas.pendientes)," MXN."]}),e.jsxs("li",{className:"text-[#b61818] font-bold text-[14px]",children:["Vencidas: ",a(s.resumen.ventas.vencidas)," MXN."]}),e.jsxs("li",{className:"text-[#d46700] font-bold text-[14px]",children:["Canceladas: ",a(s.resumen.ventas.canceladas)," MXN."]})]}),e.jsx("div",{className:"mt-5 p-2.5 border-t border-dashed border-[#ccc]"}),e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{className:"text-[18px]",children:"Balance financiero:"})}),e.jsxs("div",{className:"ml-5 mt-2",children:[e.jsxs("li",{className:"text-[#0d7033] font-bold text-[14px]",children:["Total recibido (ventas pagadas):"," ",a(s.resumen.ventas.pagadas)," MXN."]}),e.jsxs("li",{className:"text-[#b61818] font-bold text-[14px]",children:["Total pendiente por pagar (pendientes + vencidas):"," ",a(s.resumen.ventas.pendientes+s.resumen.ventas.vencidas)," ","MXN."]})]})]})]}),j=({formReport:s,handleInputChange:t,loadOptionsClientes:i,handleSubmit:l,estado:n})=>e.jsxs("form",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6 mt-3",onSubmit:l,children:[e.jsx(c,{label:"Selecciona al cliente *",id:"cliente_id",name:"cliente_id",type:"async",required:!0,value:s.cliente_id||"",onChange:t,loadOptions:i,classInput:"md:col-span-6"}),e.jsx(c,{label:"Fecha de inicio",id:"fecha_inicio",name:"fecha_inicio",type:"date",required:!0,value:s.fecha_inicio||"",onChange:t,classInput:"md:col-span-6"}),e.jsx(c,{label:"Fecha de fin",id:"fecha_fin",name:"fecha_fin",type:"date",required:!0,value:s.fecha_fin||"",onChange:t,classInput:"md:col-span-6"}),n&&e.jsx("div",{className:"sm:col-span-6 md:col-span-6",children:e.jsx(f,{data:n})}),e.jsxs("div",{className:"md:col-span-6 sm:col-span-6",children:[e.jsx("button",{type:"submit",className:"rounded-sm text-white font-medium py-2 px-3 bg-[#3674B5] hover:bg-[#486483] transition-all cursor-pointer",children:"Generar reporte"}),n&&e.jsx("a",{href:`${m}/api/pdf/estado-cuenta-clientes?cliente_id=${s.cliente_id.value}&fecha_inicio=${s.fecha_inicio}&fecha_fin=${s.fecha_fin}`,target:"_blank",className:"rounded-sm ml-3 text-white font-medium py-2 px-3 bg-red-600 hover:bg-red-800 transition-all cursor-pointer",children:"Exportar PDF"})]})]});function y(){const{formReport:s,estado:t,generateEstadoCuentaCliente:i,handleInputChange:l,loadOptionsClientes:n}=h(),r=o=>{if(o.preventDefault(),d(s.fecha_inicio).isAfter(d(s.fecha_fin))){p.warning("La fecha de fin no puede ser antes que la fecha de inicio");return}const x={...s,cliente_id:s.cliente_id.value};i(x)};return e.jsxs("div",{className:"md:p-4 bg-gray-100",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4 sm:mb-0",children:"Estado de cuenta de los clientes"}),e.jsxs("div",{className:"mt-6 bg-white p-4 rounded-xl mx-auto",children:[e.jsx(u,{text:"Generador de estado de cuentas de los clientes"}),e.jsx(j,{estado:t,handleSubmit:r,handleInputChange:l,loadOptionsClientes:n,formReport:s})]})]})}export{y as default};
