import{j as e,A as p,t as u}from"./index-CrpPZsvu.js";import{t as a,z as x,n as i}from"./useReportes-fRvlvEg1.js";import{A as h}from"./AlertaCard-CTxQbRQP.js";import{I as t}from"./InputField-CAlv3cmG.js";import"./circle-alert-DY7SbZfB.js";import"./eye-DTpaqRd9.js";const f=({data:s})=>e.jsxs("div",{className:"mb-7 p-4 border border-[#ddd] rounded-lg bg-[#f9f9f9]",children:[e.jsx("h2",{className:"text-3xl mb-4 text-center text-[#27548a] font-bold",children:"Resumen General"}),e.jsxs("div",{className:"ml-6",children:[e.jsxs("li",{className:"text-[#0d7033] font-bold",children:["Pagadas: ",a(s.resumen.pagadas)," MXN."]}),e.jsxs("li",{className:"text-[#b61818] font-bold",children:["Pendientes: ",a(s.resumen.pendientes)," MXN."]}),e.jsxs("li",{className:"text-[#b61818] font-bold",children:["Vencidas: ",a(s.resumen.vencidas)," MXN."]}),e.jsxs("li",{className:"text-[#d46700] font-bold",children:["Canceladas: ",a(s.resumen.canceladas)," MXN."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Total de Ã³rdenes:"})," ",a(s.resumen.total)," MXN."]})]}),e.jsx("p",{className:"text-center mt-5",children:e.jsxs("span",{className:"px-2.5 py-1.5 rounded-md bg-[#27548A] text-white",children:["Total por pagar (pendientes + vencidas):"," ",a(s.resumen.por_pagar)," MXN."]})})]}),v=({formReport:s,handleInputChange:r,loadOptionsProveedores:d,handleSubmit:o,estado:n})=>e.jsxs("form",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6 mt-3",onSubmit:o,children:[e.jsx(t,{label:"Selecciona al proveedor *",id:"proveedor_id",name:"proveedor_id",type:"async",required:!0,value:s.proveedor_id||"",onChange:r,loadOptions:d,classInput:"md:col-span-6"}),e.jsx(t,{label:"Fecha de inicio",id:"fecha_inicio",name:"fecha_inicio",type:"date",required:!0,value:s.fecha_inicio||"",onChange:r,classInput:"md:col-span-6"}),e.jsx(t,{label:"Fecha de fin",id:"fecha_fin",name:"fecha_fin",type:"date",required:!0,value:s.fecha_fin||"",onChange:r,classInput:"md:col-span-6"}),n&&e.jsx("div",{className:"sm:col-span-6 md:col-span-6",children:e.jsx(f,{data:n})}),e.jsxs("div",{className:"md:col-span-6 sm:col-span-6",children:[e.jsx("button",{type:"submit",className:"rounded-sm text-white font-medium py-2 px-3 bg-[#3674B5] hover:bg-[#486483] transition-all cursor-pointer",children:"Generar reporte"}),n&&e.jsx("a",{href:`${p}/api/pdf/estado-cuenta-proveedores?proveedor_id=${s.proveedor_id.value}&fecha_inicio=${s.fecha_inicio}&fecha_fin=${s.fecha_fin}`,target:"_blank",className:"rounded-sm ml-3 text-white font-medium py-2 px-3 bg-red-600 hover:bg-red-800 transition-all cursor-pointer",children:"Exportar PDF"})]})]});function P(){const{formReport:s,estado:r,generateEstadoCuentaProveedor:d,handleInputChange:o,loadOptionsProveedoresUnico:n}=x(),l=c=>{if(c.preventDefault(),i(s.fecha_inicio).isAfter(i(s.fecha_fin))){u.warning("La fecha de fin no puede ser antes que la fecha de inicio");return}const m={...s,proveedor_id:s.proveedor_id.value};d(m)};return e.jsxs("div",{className:"md:p-4 bg-gray-100",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4 sm:mb-0",children:"Estado de cuenta de los proveedores"}),e.jsxs("div",{className:"mt-6 bg-white p-4 rounded-xl mx-auto",children:[e.jsx(h,{text:"Generador de estado de cuentas de los proveedores"}),e.jsx(v,{estado:r,handleSubmit:l,handleInputChange:o,loadOptionsProveedores:n,formReport:s})]})]})}export{P as default};
