import{a as t,j as n}from"./index-CrpPZsvu.js";import{B as s}from"./BaseTable-CsPZTHSS.js";import{u as d}from"./useQuery-JHOG_8HK.js";import{n as m}from"./useReportes-fRvlvEg1.js";import"./eye-DTpaqRd9.js";const c=async()=>{try{const o=await t.get("compras"),{data:r}=o;return Array.isArray(r)?r.map(e=>({...e,banco_id:{label:e.orden_compra.banco.nombre,value:e.orden_compra.banco.id},proveedor_id:{label:e.orden_compra.proveedor.nombre_empresa,value:e.orden_compra.proveedor.id},articulo_id:{label:e.orden_compra.articulo.nombre,value:e.orden_compra.articulo.id},banco:e.orden_compra.banco.nombre,proveedor:e.orden_compra.proveedor.nombre_empresa,articulo:e.orden_compra.articulo.nombre,numero_oc:e.orden_compra.numero_oc,total:e.orden_compra.total,estatus:e.orden_compra.estatus,metodo_pago:e.orden_compra.metodo_pago,fecha:m(e.created_at).format("DD/MM/YYYY")})):[]}catch(o){throw console.error("Error al obetener el registro",o),new Error(o.response.data.message)}},i=()=>{const{isError:o,data:r,error:a,isLoading:e}=d({queryKey:["compras"],queryFn:c});return{isLoading:e,isError:o,data:r,error:a}},l=[{key:"banco",name:"Banco"},{key:"proveedor",name:"Proveedor"},{key:"numero_oc",name:"# OC"},{key:"articulo",name:"Artículo"},{key:"metodo_pago",name:"Método de pago"},{key:"total",name:"Total"},{key:"fecha",name:"Fecha"},{key:"estatus",name:"Estatus"}];function g(){const{data:o,isLoading:r,isError:a,error:e}=i();return a?n.jsx("div",{children:e.message}):n.jsx("div",{className:"md:p-4 bg-gray-100",children:n.jsx(s,{columns:l,data:o||[],title:"Compras",loading:r})})}export{g as default};
