import{j as e,A as x,t as m}from"./index-CrpPZsvu.js";import{t as a,z as u,n as o}from"./useReportes-fRvlvEg1.js";import{A as h}from"./AlertaCard-CTxQbRQP.js";import{I as d}from"./InputField-CAlv3cmG.js";import"./circle-alert-DY7SbZfB.js";import"./eye-DTpaqRd9.js";const g=({data:s})=>e.jsxs("div",{className:"mb-7 p-4 border border-[#ddd] rounded-lg bg-[#f9f9f9] resumen",children:[e.jsx("h3",{className:"text-3xl mb-4 text-center text-[#27548a] font-bold",children:"Resumen Final"}),e.jsxs("div",{className:"flex mb-2 gap-2.5 items-center mt-10",children:[e.jsx("span",{className:"font-bold text-[18px]",children:"Total ingresos:"}),e.jsxs("span",{className:"px-1.5 py-0.5 rounded-lg text-[14px] bg-[#1f964d] text-white",children:[a(s.totales.total_ingresos)," MXN"]})]}),e.jsxs("div",{className:"ml-5",children:[e.jsxs("p",{children:["- Pago por días trabajados:"," ",a(s.ingresos.pago_dias_trabajados)," MXN"]}),e.jsxs("p",{children:["- Tiempo extra: ",a(s.ingresos.tiempo_extra)," MXN"]}),e.jsxs("p",{children:["- Prima vacacional:"," ",a(s.ingresos.prima_vacacional)," MXN"]}),e.jsxs("p",{children:["- Incapacidades pagadas:"," ",a(s.ingresos.incapacidades_pagadas)," MXN"]})]}),e.jsx("div",{className:"mt-5 p-2.5 border-t border-dashed border-[#ccc]"}),e.jsxs("div",{className:"flex mb-2 gap-2.5 items-center",children:[e.jsx("span",{className:"font-bold text-[18px]",children:"Total egresos:"}),e.jsxs("span",{className:"px-1.5 py-0.5 rounded-lg text-[14px] bg-[#e02525] text-white",children:[a(s.totales.total_egresos)," MXN"]})]}),e.jsxs("div",{className:"ml-5",children:[e.jsxs("p",{children:["- Faltas: ",a(s.egresos.faltas)," MXN"]}),e.jsxs("p",{children:["- Descuentos: ",a(s.egresos.descuentos)," MXN"]}),e.jsxs("p",{children:["- Préstamos (pendientes): ",a(s.egresos.prestamos)," ","MXN"]}),e.jsxs("p",{children:["- Incapacidades no pagadas:"," ",a(s.egresos.incapacidades_no_pagadas)," MXN"]}),e.jsx("p",{className:"italic text-[#555] text-[12px] mt-1.5 ml-2",children:"Las incapacidades no cubiertas por la empresa se descuentan porque representan días no laborados sin derecho a sueldo."})]}),e.jsx("div",{className:"mt-5 p-2.5 border-t border-dashed border-[#ccc]"}),e.jsxs("div",{className:"flex mb-2 gap-2.5 items-center",children:[e.jsx("span",{className:"font-bold text-[18px]",children:"Prestaciones (retenciones legales):"}),e.jsxs("span",{className:"px-1.5 py-0.5 rounded-lg text-[14px] bg-[#e02525] text-white",children:[a(s.totales.total_prestaciones)," MXN"]})]}),e.jsxs("div",{className:"ml-5",children:[e.jsxs("p",{children:["- IMSS: ",a(s.prestaciones.imss)," MXN"]}),e.jsxs("p",{children:["- INFONAVIT: ",a(s.prestaciones.infonavit)," MXN"]}),e.jsxs("p",{children:["- FONACOT: ",a(s.prestaciones.fonacot)," MXN"]}),e.jsxs("p",{children:["- Retención ISR: ",a(s.prestaciones.retencion_isr)," ","MXN"]}),e.jsxs("p",{children:["- Aguinaldo: ",a(s.guardia.aguinaldo)," MXN"]}),e.jsx("p",{className:"italic text-[#555] text-[12px] mt-1.5 ml-2",children:"El aguinaldo no se ha sumado ni al sueldo bruto, ni al sueldo neto."})]}),e.jsx("div",{className:"mt-5 p-2.5 border-t border-dashed border-[#ccc]"}),e.jsxs("div",{className:"flex mb-2 gap-2.5 items-center",children:[e.jsx("span",{className:"font-bold text-[18px]",children:"Pago bruto:"}),e.jsxs("span",{className:"text-white px-1.5 py-0.5 rounded-lg text-[14px] bg-[#1f964d]",children:[a(s.totales.pago_bruto)," MXN"]})]}),e.jsxs("div",{className:"flex mb-2 gap-2.5 items-center",children:[e.jsx("span",{className:"font-bold text-[18px]",children:"Pago neto:"}),e.jsxs("span",{className:"text-white px-1.5 py-0.5 rounded-lg text-[14px] bg-[#1f964d] ",children:[a(s.totales.pago_neto)," MXN"]})]})]}),j=({formReport:s,handleInputChange:i,loadOptionsGuardias:t,handleSubmit:r,estado:n})=>e.jsxs("form",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6 mt-3",onSubmit:r,children:[e.jsx(d,{label:"Selecciona al guardia *",id:"guardia_id",name:"guardia_id",type:"async",required:!0,value:s.guardia_id||"",onChange:i,loadOptions:t,classInput:"md:col-span-6"}),e.jsx(d,{label:"Fecha de inicio",id:"fecha_inicio",name:"fecha_inicio",type:"date",required:!0,value:s.fecha_inicio||"",onChange:i,classInput:"md:col-span-6"}),e.jsx(d,{label:"Fecha de fin",id:"fecha_fin",name:"fecha_fin",type:"date",required:!0,value:s.fecha_fin||"",onChange:i,classInput:"md:col-span-6"}),n&&e.jsx("div",{className:"sm:col-span-6 md:col-span-6",children:e.jsx(g,{data:n})}),e.jsxs("div",{className:"md:col-span-6 sm:col-span-6",children:[e.jsx("button",{type:"submit",className:"rounded-sm text-white font-medium py-2 px-3 bg-[#3674B5] hover:bg-[#486483] transition-all cursor-pointer",children:"Generar reporte"}),n&&e.jsx("a",{href:`${x}/api/pdf/estado-cuenta-guardias?guardia_id=${s.guardia_id.value}&fecha_inicio=${s.fecha_inicio}&fecha_fin=${s.fecha_fin}`,target:"_blank",className:"rounded-sm ml-3 text-white font-medium py-2 px-3 bg-red-600 hover:bg-red-800 transition-all cursor-pointer",children:"Exportar PDF"})]})]});function X(){const{formReport:s,estado:i,generateEstadoCuentaGuardia:t,handleInputChange:r,loadOptionsGuardias:n}=u(),l=c=>{if(c.preventDefault(),o(s.fecha_inicio).isAfter(o(s.fecha_fin))){m.warning("La fecha de fin no puede ser antes que la fecha de inicio");return}const p={...s,guardia_id:s.guardia_id.value};t(p)};return e.jsxs("div",{className:"md:p-4 bg-gray-100",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4 sm:mb-0",children:"Estado de cuenta de los guardias"}),e.jsxs("div",{className:"mt-6 bg-white p-4 rounded-xl mx-auto",children:[e.jsx(h,{text:"Generador de estado de cuentas de los guardias"}),e.jsx(j,{estado:i,handleSubmit:l,handleInputChange:r,loadOptionsGuardias:n,formReport:s})]})]})}export{X as default};
