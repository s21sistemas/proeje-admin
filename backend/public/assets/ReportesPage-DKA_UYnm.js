import{j as a,t as m}from"./index-CrpPZsvu.js";import{z as p,n as c}from"./useReportes-fRvlvEg1.js";import{A as v}from"./AlertaCard-CTxQbRQP.js";import{I as l}from"./InputField-CAlv3cmG.js";import"./circle-alert-DY7SbZfB.js";import"./eye-DTpaqRd9.js";const b=[{value:"",label:"Selecciona una opción"},{value:"movimientos",label:"Movimiento bancarios"},{value:"orden-compra",label:"Órdenes de compra"},{value:"compras",label:"Compras"},{value:"gastos",label:"Gastos"},{value:"ventas",label:"Ventas"},{value:"almacen",label:"Almacén"},{value:"equipo",label:"Equipo asignado"},{value:"boletas-gasolina",label:"Boletas de gasolina"}],g=[{value:"",label:"Selecciona una opción"},{value:"todos",label:"Todos"},{value:"Transferencia bancaria",label:"Transferencia bancaria"},{value:"Tarjeta de crédito/débito",label:"Tarjeta de crédito/débito"},{value:"Efectivo",label:"Efectivo"},{value:"Cheques",label:"Cheques"}],_=[{value:"",label:"Selecciona una opción"},{value:"todos",label:"Todos"},{value:"Ingreso",label:"Ingreso"},{value:"Egreso",label:"Egreso"}],x=[{value:"",label:"Selecciona una opción"},{value:"todos",label:"Todos"},{value:"Crédito",label:"Crédito"},{value:"Contado",label:"Contado"}],h=[{value:"",label:"Selecciona una opción"},{value:"todos",label:"Todos"},{value:"Pagada",label:"Pagada"},{value:"Pendiente",label:"Pendiente"},{value:"Cancelada",label:"Cancelada"}],j=({formReport:e,handleInputChange:o,loadOptionsBancos:i,loadOptionsProveedores:n,loadOptionsVehiculos:t,handleSubmit:d})=>a.jsxs("form",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6 mt-3",onSubmit:d,children:[a.jsx(l,{label:"Selecciona el módulo",id:"modulo",name:"modulo",type:"select",required:!0,value:e.modulo||"",onChange:o,opcSelect:b,classInput:"md:col-span-6"}),a.jsx(l,{label:"Fecha de inicio",id:"fecha_inicio",name:"fecha_inicio",type:"datetime-local",required:!0,value:e.fecha_inicio||"",onChange:o,classInput:"md:col-span-3"}),a.jsx(l,{label:"Fecha de fin",id:"fecha_fin",name:"fecha_fin",type:"datetime-local",required:!0,value:e.fecha_fin||"",onChange:o,classInput:"md:col-span-3"}),["orden-compra","compras","gastos","movimientos"].includes(e.modulo)&&a.jsx(l,{label:"Bancos",id:"banco_id",name:"banco_id",type:"async",required:!0,value:e.banco_id||"",onChange:o,loadOptions:i,classInput:"md:col-span-3"}),["orden-compra","compras"].includes(e.modulo)&&a.jsx(l,{label:"Proveedor",id:"proveedor_id",name:"proveedor_id",type:"async",required:!0,value:e.proveedor_id||"",onChange:o,loadOptions:n,classInput:"md:col-span-3"}),e.modulo==="orden-compra"&&a.jsx(l,{label:"Estatus",id:"estatus",name:"estatus",type:"select",required:!0,value:e.estatus||"",opcSelect:h,onChange:o,classInput:"md:col-span-3"}),["bancos","ventas","gastos","compras","movimientos"].includes(e.modulo)&&a.jsx(l,{label:"Método de pago",id:"metodo_pago",name:"metodo_pago",type:"select",required:!0,value:e.metodo_pago||"",onChange:o,opcSelect:g,classInput:"md:col-span-3"}),e.modulo==="ventas"&&a.jsx(l,{label:"Tipo de pago",id:"tipo_pago",name:"tipo_pago",type:"select",required:!0,value:e.tipo_pago||"",onChange:o,opcSelect:x,classInput:"md:col-span-3"}),e.modulo==="movimientos"&&a.jsx(l,{label:"Tipo de movimiento",id:"tipo_movimiento",name:"tipo_movimiento",type:"select",required:!0,value:e.tipo_movimiento||"",onChange:o,opcSelect:_,classInput:"md:col-span-3"}),e.modulo==="boletas-gasolina"&&a.jsx(l,{label:"Vehículo",id:"vehiculo_id",name:"vehiculo_id",type:"async",required:!0,value:e.vehiculo_id||"",onChange:o,loadOptions:t,classInput:"md:col-span-6"}),a.jsx("div",{className:"md:col-span-6 sm:col-span-6",children:a.jsx("button",{type:"submit",className:"rounded-sm text-white font-medium py-2 px-3 bg-[#3674B5] hover:bg-[#486483] transition-all cursor-pointer",children:"Generar reporte"})})]});function T(){const{formReport:e,generateReport:o,loadOptionsBancos:i,handleInputChange:n,loadOptionsProveedores:t,loadOptionsVehiculos:d}=p(),u=r=>{if(r.preventDefault(),c(e.fecha_inicio).isAfter(c(e.fecha_fin))){m.warning("La fecha de fin no puede ser antes que la fecha de inicio");return}let s=e;["orden-compra","compras"].includes(e.modulo)&&(s={...e,banco_id:e.banco_id.value,proveedor_id:e.proveedor_id.value}),["gastos","movimientos"].includes(e.modulo)&&(s={...e,banco_id:e.banco_id.value}),e.modulo==="boletas-gasolina"&&(s={...e,vehiculo_id:e.vehiculo_id.value}),o(s)};return a.jsxs("div",{className:"md:p-4 bg-gray-100",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4 sm:mb-0",children:"Generador de reportes"}),a.jsxs("div",{className:"mt-6 bg-white p-4 rounded-xl mx-auto",children:[a.jsx(v,{text:"Generador de reportes del módulo seleccionado"}),a.jsx(j,{handleSubmit:u,handleInputChange:n,loadOptionsBancos:i,loadOptionsProveedores:t,loadOptionsVehiculos:d,formReport:e})]})]})}export{T as default};
