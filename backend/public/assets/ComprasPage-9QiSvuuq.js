import{j as n}from"./index-CB-Ik059.js";import{k as t,B as s}from"./BaseTable-lMESkOGa.js";import{a as d,u as c}from"./configAxios-zIrC1_jU.js";import"./square-pen-D170uhu7.js";const i=async()=>{try{const r=await d.get("compras"),{data:o}=r;return Array.isArray(o)?o.map(e=>({...e,banco_id:{label:e.orden_compra.banco.nombre,value:e.orden_compra.banco.id},proveedor_id:{label:e.orden_compra.proveedor.nombre_empresa,value:e.orden_compra.proveedor.id},articulo_id:{label:e.orden_compra.articulo.nombre,value:e.orden_compra.articulo.id},banco:e.orden_compra.banco.nombre,proveedor:e.orden_compra.proveedor.nombre_empresa,articulo:e.orden_compra.articulo.nombre,numero_oc:e.orden_compra.numero_oc,total:e.orden_compra.total,estatus:e.orden_compra.estatus,fecha:t(e.created_at).format("DD/MM/YYYY")})):[]}catch(r){throw console.error("Error al obetener el registro",r),new Error(r.response.data.message)}},m=()=>{const{isError:r,data:o,error:a,isLoading:e}=c({queryKey:["compras"],queryFn:i});return{isLoading:e,isError:r,data:o,error:a}},l=[{key:"banco",name:"Banco"},{key:"proveedor",name:"Proveedor"},{key:"numero_oc",name:"# OC"},{key:"articulo",name:"Art√≠culo"},{key:"total",name:"Total"},{key:"fecha",name:"Fecha"},{key:"estatus",name:"Estatus"}];function y(){const{data:r,isLoading:o,isError:a,error:e}=m();return a?n.jsx("div",{children:e.message}):n.jsx("div",{className:"md:p-4 bg-gray-100",children:n.jsx(s,{columns:l,data:r||[],title:"Compras",loading:o})})}export{y as default};
